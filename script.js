$(function(){const e=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/g;const b=$(".mail");emailjs.init("1U0dhCkXoZqW3N_vS");function c(){$(".envelope-side-borders").data("opened",false).removeClass("open")}function d(h){c();const i=h.elements.message.value.trim();if(i.length>=16){const g=i.match(e);emailjs.send("service_bgcm91o","template_3fhqju7",{message:i,from:Array.from(i.matchAll(e)).join()||undefined});h.reset()}$("button.sendemail").prop("disabled",true)}b.html(function(g,h){return h+"@"+window.location.hostname.replace(/^www./,"")});function a(){const g=$(".envelope-side-borders");if(g.data("opened")){d($(".envelope form")[0])}else{g.addClass("open");g.data("opened",true);g.find("textarea").focus()}}b.click(a);const f=$("span.copy");f.html(function(g,h){return $("<span>").html(h)});f.click(function(){navigator.clipboard.writeText(this.textContent);const g=$(this);g.addClass("copied");setTimeout(function(){g.removeClass("copied")},500)});$(".envelope textarea").keydown(function(g){if((g.ctrlKey||g.metaKey)&&(g.keyCode==13||g.keyCode==10)){d(this.form)}else{if(g.keyCode==27){c()}}});$("button.closemail").click(c);$(".envelope textarea").on("input",function(g){$("button.sendemail").prop("disabled",this.value.length<=0)});$(".envelope form").submit(function(){d(this)})});